The primary objective of this section is to identify potential targets within the network to which you are directly connected. This approach is tailored for internal network attacks. Conducting this type of reconnaissance externally is generally ineffective due to common security measures like ICMP blocking and the inability to access Layer 2 protocols such as ARP from an external vantage point.

While Nmap, particularly with the `-sn` switch, is an excellent tool for this purpose, it's worth noting that Nmap isn't a standard utility on many systems. A viable alternative is to use a `for` loop in conjunction with the ping command to sweep the network for responsive devices. This method effectively identifies active hosts, although it does not leverage more advanced host discovery techniques. Such techniques include ARP requests, LLMNR, mDNS, and others, which Nmap can perform when granted sudo privileges. These advanced methods can add an element of depth and 'fun' to the discovery process.

---
# This is a basic for loop in Nmap
#### Using Nmap if its on the system could work but this will also write a file to the system and is a good way to get caught but this is also a good way to see if the blue team is tracking you.

```shell
sudo nmap -iL scope -sn -n | tee ping_sweep
```

### Breakdown of the Nmap command for network scanning and outputting results to a file

1. `sudo`:
   - Runs the command with superuser privileges to ensure full access to network interfaces.

2. `nmap`:
   - Network Mapper, a tool for network discovery and security auditing.

3. `-iL scope`:
   - Instructs Nmap to read the list of target hosts from a file named `scope`. This file should contain the IP addresses or hostnames of the targets. Alternatively, you can directly add the IP addresses in the command if you prefer not to use the `-iL` option and `scope` file.

4. `-sn`:
   - Enables ping scanning (also known as 'ping sweep'). This option tells Nmap to send ICMP echo requests (ping) to each target, but it does not perform port scanning.

5. `-n`:
   - Skips DNS resolution. This option speeds up the scan by avoiding the DNS resolution of the IP addresses.

6. `| tee ping_sweep`:
   - Pipes (`|`) the output of the Nmap command into the `tee` command, which displays the output on the screen and simultaneously writes it to a file named `ping_sweep`.


---
# Windows Loop

```shell
for /l %i in (1,1,254) do @ping -n 1 -w 100 192.168.0.%i | find "Reply"
```

## Breakdown of the batch command for performing a ping sweep in a Windows environment

1. `for /l %i in (1,1,254)`: 
   - This is a loop that iterates from 1 to 254. 
   - The loop variable `%i` takes on each value in this range, representing the last octet of an IP address.

2. `do @ping -n 1 -w 100 192.168.0.%i`:
   - This part of the command executes the `ping` command for each iteration of the loop.
   - `-n 1` tells the ping command to send only one ICMP echo request to each IP address.
   - `-w 100` sets the timeout for each ping to 100 milliseconds.
   - `192.168.0.%i` specifies the target IP address for the ping, where `%i` is replaced by the current loop iteration number.

3. `| find "Reply"`:
   - This part of the command filters the output of the ping command.
   - It uses the `find` command to display only those lines that contain the word "Reply".
   - "Reply" indicates a successful response from the pinged host, showing that the host is active.


---
# This is a basic for loop in Linux

#### This script performs a network sweep to identify active hosts in a local subnet.

```Bash
for i in {1..254} ;do (ping -c 1 192.168.1.$i | grep "bytes from" &) ;done
```

## loop in Linux brakedown

It uses a 'for' loop to iterate through a range of IP addresses and pings each one.

Ping each IP address in the subnet 192.168.1.0/24.

The '-c 1' option sends a single ping to each IP address.
ping -c 1 192.168.1.$i 

Use 'grep' to filter the output, looking for responses that indicate the host is alive. "bytes from" is part of the response message received from an active host. grep "bytes from"  &)

Run each ping command in the background so the script doesn't wait for each ping to finish before continuing.

The script concludes after pinging all addresses in the specified range.

---

Write that output to file by copying it off the victim and moving it to your attacker machine. REMEMBER to never leave sensitive data on a victim.

